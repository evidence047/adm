<!DOCTYPE html>
<a href="homepage.html" target="homepage.html">back</a>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>School Admission / Registration Form</title>
  <style>
    :root{--bg:#f4f7fb;--card:#ffffff;--accent:#2563eb;--muted:#6b7280}
    *{box-sizing:border-box}
    body{font-family:system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;margin:0;background:var(--bg);color:#111}
    .container{max-width:900px;margin:36px auto;padding:24px}
    .card{background:var(--card);border-radius:12px;padding:22px;box-shadow:0 6px 18px rgba(16,24,40,0.06)}
    h1{font-size:1.5rem;margin:0 0 12px}
    p.lead{margin:0 0 18px;color:var(--muted)}
    form{display:grid;grid-template-columns:1fr 1fr;gap:14px}
    label{display:block;font-size:0.85rem;margin-bottom:6px}
    input[type="text"],input[type="date"],input[type="tel"],select,textarea{width:100%;padding:10px;border:1px solid #e6e9ef;border-radius:8px;font-size:0.95rem}
    textarea{min-height:100px;resize:vertical}
    .full{grid-column:1 / -1}
    .actions{display:flex;gap:10px;align-items:center;margin-top:10px}
    button{background:var(--accent);color:#fff;border:0;padding:10px 14px;border-radius:10px;cursor:pointer}
    button.secondary{background:#fff;color:var(--accent);border:1px solid #dbeafe}
    .note{font-size:0.85rem;color:var(--muted)}
    .error{color:#b91c1c;font-size:0.85rem;margin-top:6px}
    .summary{background:#f8fafc;border:1px dashed #e6eefc;padding:12px;border-radius:8px;margin-top:14px}
    @media (max-width:640px){form{grid-template-columns:1fr}}
  </style>
</head>
<body>
  <div class="container">
    <div class="card">
      <h1>Student Registration / Admission Form</h1>
      <p class="lead">Fill the details below carefully. Fields marked with * are required.</p>

      <form id="regForm" novalidate>
        <!-- Student details -->
        <div>
          <label for="studentName">Student full name *</label>
          <input id="studentName" name="studentName" type="text" placeholder="e.g. Jane Doe" required />
          <div class="error" data-for="studentName"></div>
        </div>

        <div>
          <label for="admNumber">Admission number (ADM No.) *</label>
          <input id="admNumber" name="admNumber" type="text" placeholder="e.g. ADM2025-001" pattern="^[A-Za-z0-9\-]+$" required />
          <div class="error" data-for="admNumber"></div>
        </div>

        <div>
          <label for="admissionDate">Date of admission *</label>
          <input id="admissionDate" name="admissionDate" type="date" required />
          <div class="error" data-for="admissionDate"></div>
        </div>

        <div>
          <label for="classApplied">Class / Grade applied for *</label>
          <select id="classApplied" name="classApplied" required>
            <option value="">-- Select class --</option>
            <option>Grade 1</option>
            <option>Grade 2</option>
            <option>Grade 3</option>
            <option>Form 1</option>
            <option>Form 2</option>
          </select>
          <div class="error" data-for="classApplied"></div>
        </div>

        <!-- Parent / Guardian details -->
        <div class="full">
          <label for="parentName">Parent / Guardian name *</label>
          <input id="parentName" name="parentName" type="text" placeholder="e.g. John Doe" required />
          <div class="error" data-for="parentName"></div>
        </div>

        <div>
          <label for="relationship">Relationship to student *</label>
          <select id="relationship" name="relationship" required>
            <option value="">-- Select relationship --</option>
            <option>Mother</option>
            <option>Father</option>
            <option>Guardian</option>
            <option>Other</option>
          </select>
          <div class="error" data-for="relationship"></div>
        </div>

        <div>
          <label for="parentPhone">Parent / Guardian phone *</label>
          <input id="parentPhone" name="parentPhone" type="tel" placeholder="e.g. +254712345678" pattern="^\+?[0-9\s\-]{6,20}$" required />
          <div class="error" data-for="parentPhone"></div>
        </div>

        <!-- Academic performance questions -->
        <div class="full">
          <label>How would you rate the student's previous academic performance? *</label>
          <select id="performance" name="performance" required>
            <option value="">-- Select performance level --</option>
            <option>Outstanding / High</option>
            <option>Above Average</option>
            <option>Average</option>
            <option>Below Average</option>
            <option>Poor</option>
          </select>
          <div class="error" data-for="performance"></div>
        </div>

        <div>
          <label for="lastTermMarks">Last term marks (optional)</label>
          <input id="lastTermMarks" name="lastTermMarks" type="text" placeholder="e.g. 78% or A-" />
        </div>

        <div>
          <label for="specialNeeds">Any special needs or medical conditions (optional)</label>
          <input id="specialNeeds" name="specialNeeds" type="text" placeholder="e.g. asthma, dyslexia" />
        </div>

        <div class="full">
          <label for="notes">Additional notes (optional)</label>
          <textarea id="notes" name="notes" placeholder="Add any background info, previous schools, behaviour notes..."></textarea>
        </div>

        <div class="actions full">
          <button type="submit">Submit registration</button>
          <button type="button" class="secondary" id="resetBtn">Reset form</button>
          <div style="margin-left:auto" class="note">We do not send the data anywhere — this is a client-side demo.</div>
        </div>

      </form>

      <div id="result" class="summary" style="display:none" aria-live="polite"></div>
    </div>
  </div>

  <script>
    // Basic client-side validation + friendly summary display
    (function(){
      const form = document.getElementById('regForm');
      const result = document.getElementById('result');
      const resetBtn = document.getElementById('resetBtn');

      // helper: show field error
      function setError(fieldName, message){
        const el = document.querySelector('[data-for="'+fieldName+'"]');
        if(el) el.textContent = message || '';
      }

      // clear all errors
      function clearErrors(){
        document.querySelectorAll('.error').forEach(e=>e.textContent='');
      }

      // validate required fields and simple patterns
      function validate(values){
        clearErrors();
        let ok = true;

        if(!values.studentName.trim()){ setError('studentName','Student name is required.'); ok=false }
        if(!values.admNumber.trim()){ setError('admNumber','Admission number is required.'); ok=false }
        else if(!/^[A-Za-z0-9\-]+$/.test(values.admNumber)){ setError('admNumber','Admission number may contain only letters, numbers and dashes.'); ok=false }

        if(!values.admissionDate){ setError('admissionDate','Please enter the admission date.'); ok=false }
        else {
          const today = new Date();
          const adDate = new Date(values.admissionDate + 'T00:00:00');
          if(adDate > today){ setError('admissionDate','Admission date cannot be in the future.'); ok=false }
        }

        if(!values.classApplied){ setError('classApplied','Please select a class.'); ok=false }

        if(!values.parentName.trim()){ setError('parentName','Parent/guardian name is required.'); ok=false }
        if(!values.relationship){ setError('relationship','Please select relationship.'); ok=false }

        if(!values.parentPhone.trim()){ setError('parentPhone','Parent phone is required.'); ok=false }
        else if(!/^\+?[0-9\s\-]{6,20}$/.test(values.parentPhone)){ setError('parentPhone','Enter a valid phone number.'); ok=false }

        if(!values.performance){ setError('performance','Please indicate performance level.'); ok=false }

        return ok;
      }

      form.addEventListener('submit', function(e){
        e.preventDefault();
        const data = new FormData(form);
        const values = Object.fromEntries(data.entries());

        if(!validate(values)){
          result.style.display = 'none';
          return;
        }

        // Show a friendly summary of what was entered (client-side only)
        result.style.display = 'block';
        result.innerHTML = `
          <strong>Registration submitted (preview):</strong>
          <ul>
            <li><strong>Student:</strong> ${escapeHtml(values.studentName)} (ADM: ${escapeHtml(values.admNumber)})</li>
            <li><strong>Admission date:</strong> ${escapeHtml(values.admissionDate)}</li>
            <li><strong>Class applied:</strong> ${escapeHtml(values.classApplied)}</li>
            <li><strong>Parent/Guardian:</strong> ${escapeHtml(values.parentName)} — ${escapeHtml(values.relationship)} — ${escapeHtml(values.parentPhone)}</li>
            <li><strong>Performance:</strong> ${escapeHtml(values.performance)} ${values.lastTermMarks? ' — Last marks: ' + escapeHtml(values.lastTermMarks): ''}</li>
            ${values.specialNeeds? '<li><strong>Special needs/medical:</strong> ' + escapeHtml(values.specialNeeds) + '</li>': ''}
            ${values.notes? '<li><strong>Notes:</strong> ' + escapeHtml(values.notes) + '</li>': ''}
          </ul>
          <p class="note">This demo does not transmit data — integrate with a server endpoint to save records.</p>
        `;

        // Optionally: reset form after showing summary
        // form.reset();
      });

      resetBtn.addEventListener('click', function(){
        form.reset();
        clearErrors();
        result.style.display = 'none';
      });

      function escapeHtml(s){
        if(!s) return '';
        return String(s).replace(/[&<>"']/g, function(c){ return {'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#39;"}[c] });
      }

    })();
  </script>
</body>
</html>
